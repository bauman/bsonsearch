#include <stdio.h>
#include <bsoncompare.h>

int compare_json(const char *json,
                 const char *jsonspec ){
    bson_error_t error;
    bson_error_t error2;
    bson_t      *spec;
    bson_t      *doc;
    doc = bson_new_from_json (json, -1, &error);
    //char * str;
    //str = bson_as_json(doc, NULL);
    //printf("%s\n", str);
    spec = bson_new_from_json (jsonspec, -1, &error2);
    const uint8_t *spec_bson = bson_get_data(spec);
    const uint8_t *doc_bson = bson_get_data(doc);
    int yes = compare(spec_bson, spec->len, doc_bson, doc->len);
    doc_destroy(spec);
    doc_destroy(doc);
    return yes;
}


int
main (int   argc,
      char *argv[]) {

    int started = bsonsearch_startup();
    //these are some AWS ips.
    BSON_ASSERT(compare_json("{\"hello\": [{\"$binary\": \"AAAAAAAAAAAAAAAADSAAAA==\", \"$type\": \"84\"}]}",
                             "{\"hello\": {\"$module\": {\"config\": {\"ips\": [[{\"$binary\": \"AAAAAAAAAAAAAAAADSAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADTQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADTYAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADTgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADTkAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADToAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADXAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADXwAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADX0AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADX4AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADdEAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADdIAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADeQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADeYAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADegAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADewAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAADfoAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEpAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAErMAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAErYAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAErgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAErwAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEr8AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEsIAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEsQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEsgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEswAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEtAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//gAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEtgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEtwAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEuAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEucAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEugAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAEv0AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAFxQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAGwAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///8AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAIsAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//AAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAItAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//AAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAIuAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//AAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAIvAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//gAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAIvgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//gAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI5kAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI5oAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI5sAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI5wAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI6AAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//gAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI6gAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//gAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI7AAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI7IAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI7QAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAI7YAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAK/rAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA////AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAK/rBAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA////AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAALjOAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAALjPAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///wAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAALjPYAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///4AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAALjPgAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///gAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAALokAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//+AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAALomAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAALonAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///gAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAALongAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///gAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAMhAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAMhIAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAMhMAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAMnAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANAAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANAIAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANAQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANAgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANAkAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANAoAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANAwAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANA4AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANA8AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANBAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANBIAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANBQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANBgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANBwAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANB0AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANB4AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANCAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANCQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANCgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANCwAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC4AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC5AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///wAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC5QAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///4AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC5YAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///8AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC5cAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///8AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC5gAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///gAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC6AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///gAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC6kAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///+AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC6sAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///8AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANC8AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANDAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//wAAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANDQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANDYAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANDgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANDkAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANDoAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANDwAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAND0AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAAND4AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//+AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANECAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//+AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEEAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEIAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEMAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEYAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEoAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEsAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEwAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//+AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANEyAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//+AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANE0AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANE4AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANE8AAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANFAAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANFEAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANFK7AA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA////AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANFK8AA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///8AA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANFLAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA///AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANFMAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANFQAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANFYAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}], [{\"$binary\": \"AAAAAAAAAAAAAAAANFgAAA==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//4AAA==\", \"$type\": \"84\"}]]}, \"name\": \"ip\"}}}"));

    BSON_ASSERT(compare_json("{\"hello\": [{\"$binary\": \"AAAAAAAAAAAAAAAAwKgXBQ==\", \"$type\": \"84\"}]}",
                             "{\"hello\":{\"$module\":{\"name\":\"ip\", \"config\": {\"ips\":[{\"$binary\": \"AAAAAAAAAAAAAAAAwKgXBQ==\", \"$type\": \"84\"}, {\"$binary\": \"AAAAAAAAAAAAAAAA//8AAA==\", \"$type\": \"84\"}]}}}}"));

    bsonsearch_shutdown();

    return 0;
}